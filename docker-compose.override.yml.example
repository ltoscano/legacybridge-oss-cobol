# Docker Compose Override Example
# Copy this to docker-compose.override.yml for local customizations

version: '3.8'

services:
  cobol-migration:
    # Override environment variables for local development
    environment:
      - LOGGING_LEVEL=DEBUG
      - ENABLE_CONVERSATION_LOGGING=true
      - AI_TEMPERATURE=0.0  # More deterministic responses for testing
      
    # Additional volume mounts for development
    volumes:
      # Mount local script directory for development
      - ./scripts:/app/scripts:ro
      # Mount local test data
      - ./test-data:/app/test-data:ro
      
    # Override ports if needed
    ports:
      - "8001:8000"
      
    # Override command for development
    # command: ["tail", "-f", "/dev/null"]
    
  # Development service customizations
  cobol-migration-dev:
    environment:
      - LOGGING_LEVEL=DEBUG
      - PYTHONPATH=/app
      
    # Mount additional development tools
    volumes:
      - ./dev-tools:/app/dev-tools:ro
      
    # Enable specific development features
    command: ["bash", "-c", "poetry install && tail -f /dev/null"]

# Development-specific networks
# networks:
#   cobol-migration-network:
#     driver: bridge
#     ipam:
#       config:
#         - subnet: 172.20.0.0/16

# Development-specific volumes  
# volumes:
#   dev_data:
#     driver: local